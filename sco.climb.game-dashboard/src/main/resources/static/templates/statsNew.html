<div layout="column" class="stats" layout-padding>
    <div data-ng-controller="statsNewCtrl" data-ng-init="init()"></div>
    <div layout="row">
        <h1 class="md-label"> {{'stats_update' | translate:'{miles:' + getCurrentScore() + ', remaining_miles: ' + (stats.totalScore - getCurrentScore()) + '}'}}</h1>
    </div>
    <div layout="row" layout-align="start center">
        <div flex="50">
            <h1 class="md-title">{{'stats_ranking_global' | translate}}</h1>
        </div>
        <div flex="50" class="legenda">
            {{'stats_legenda' | translate}} <i class="icon icon-star"></i><i class="icon icon-star"></i> 10 km
        </div>
    </div>
    <div layout="row" class="table">
        <div layout="column" flex="33" class="mode-zeroImpact_solo">
            <div class="header">{{'stats_zeroimpact_solo' | translate}}</div>
            <div class="scroller">
                <md-button class="md-icon-button" ng-click="scroll('zeroImpact_solo', 'up')">
                    <md-icon class="icon-arrow_up"></md-icon>
                </md-button>
                <md-button class="md-icon-button" ng-click="scroll('zeroImpact_solo', 'down')">
                    <md-icon class="icon-arrow_down"></md-icon>
                </md-button>
            </div>
            <md-content id="zeroImpact_solo" class="content">
                <div layout="row" layout-wrap ng-repeat="n in getCount(MathFloor(stats.scoreModeMap.zeroImpact_solo / 10)) track by $index">
                    <i flex="10" class="icon icon-foot" ng-repeat="i in getCount(10) track by $index"></i>
                    <div flex="100" ng-if="($index + 1) % 10 === 0">
                        <hr>
                    </div>
                </div>
                <div layout="row">
                    <i flex="10" class="icon icon-foot" ng-repeat="n in getCount(stats.scoreModeMap.zeroImpact_solo % 10) track by $index"></i>
                </div>
            </md-content>
        </div>
        <div layout="column" flex="33" class="mode-zeroImpact_wAdult">
            <div class="header">{{'stats_zeroImpact_wAdult' | translate}}</div>
            <div class="scroller">
                <md-button class="md-icon-button" ng-click="scroll('zeroImpact_wAdult', 'up')">
                    <md-icon class="icon-arrow_up"></md-icon>
                </md-button>
                <md-button class="md-icon-button" ng-click="scroll('zeroImpact_wAdult', 'down')">
                    <md-icon class="icon-arrow_down"></md-icon>
                </md-button>
            </div>
            <md-content id="zeroImpact_wAdult" class="content">
                <!--stats.scoreModeMap.zeroImpact_wAdult-->
                <div layout="row" layout-wrap ng-repeat="n in getCount(MathFloor(stats.scoreModeMap.zeroImpact_wAdult / 10)) track by $index">
                    <i flex="10" class="icon icon-foot" ng-repeat="i in getCount(10) track by $index"></i>
                    <div flex="100" ng-if="($index + 1) % 10 === 0">
                        <hr>
                    </div>
                </div>
                <div layout="row">
                    <i flex="10" class="icon icon-foot" ng-repeat="n in getCount(stats.scoreModeMap.zeroImpact_wAdult % 10) track by $index"></i>
                </div>
            </md-content>
        </div>
        <div layout="column" flex="33" class="mode-bus">
            <div class="header">{{'stats_bus' | translate}}</div>
            <div class="scroller">
                <md-button class="md-icon-button" ng-click="scroll('bus', 'up')">
                    <md-icon class="icon-arrow_up"></md-icon>
                </md-button>
                <md-button class="md-icon-button" ng-click="scroll('bus', 'down')">
                    <md-icon class="icon-arrow_down"></md-icon>
                </md-button>
            </div>
            <md-content id="bus" class="content">
                <div layout="row" layout-wrap ng-repeat="n in getCount(MathFloor(stats.scoreModeMap.bus / 10)) track by $index">
                    <i flex="10" class="icon icon-foot" ng-repeat="i in getCount(10) track by $index"></i>
                    <div flex="100" ng-if="($index + 1) % 10 === 0">
                        <hr>
                    </div>
                </div>
                <div layout="row">
                    <i flex="10" class="icon icon-foot" ng-repeat="n in getCount(stats.scoreModeMap.bus % 10) track by $index"></i>
                </div>
            </md-content>
        </div>

    </div>

    <div layout="row" class="table">
        <div layout="column" flex="33" class="mode-zeroImpact_solo">
            <div class="header">{{'stats_zeroimpact_solo' | translate}}</div>
            <md-content id="zeroImpact_solo" class="content">
                <h1 class="md-title title-progress">{{'menu_class' | translate}}</h1>
                </table>
            </md-content>
        </div>
        <div layout="column" flex="33" class="mode-zeroImpact_wAdult">
            <div class="header">{{'stats_zeroImpact_wAdult' | translate}}</div>
            <md-content id="zeroImpact_wAdult" class="content">
                <!--stats.scoreModeMap.zeroImpact_wAdult-->
                <div layout="row" layout-wrap ng-repeat="n in getCount(MathFloor(stats.scoreModeMap.zeroImpact_wAdult / 10)) track by $index">
                    <i flex="10" class="icon icon-foot" ng-repeat="i in getCount(10) track by $index"></i>
                    <div flex="100" ng-if="($index + 1) % 10 === 0">
                        <hr>
                    </div>
                </div>
                <div layout="row">
                    <i flex="10" class="icon icon-foot" ng-repeat="n in getCount(stats.scoreModeMap.zeroImpact_wAdult % 10) track by $index"></i>
                </div>
            </md-content>
        </div>
        <div layout="column" flex="33" class="mode-bus">
            <div class="header">{{'stats_bus' | translate}}</div>
            <md-content id="bus" class="content">
                <div layout="row" layout-wrap ng-repeat="n in getCount(MathFloor(stats.scoreModeMap.bus / 10)) track by $index">
                    <i flex="10" class="icon icon-foot" ng-repeat="i in getCount(10) track by $index"></i>
                    <div flex="100" ng-if="($index + 1) % 10 === 0">
                        <hr>
                    </div>
                </div>
                <div layout="row">
                    <i flex="10" class="icon icon-foot" ng-repeat="n in getCount(stats.scoreModeMap.bus % 10) track by $index"></i>
                </div>
            </md-content>
        </div>

    </div>

    <div class = excursions layout="column" flex >
        <h1 class="md-title">{{'excursions_history' | translate}}</h1>
        <md-content id="excursions-list">
            <div layout="row" layout-wrap>
                <div flex="50" ng-repeat="stat in stats">
                    <md-card md-theme="default">
                        <md-card-title>
                            <md-card-title-text>
                                <span class="md-headline">{{stat.name}}</span>
                                <span class="md-subhead">{{stat.day | date:'dd MMMM yyyy'}}</span>
                            </md-card-title-text>
                            <md-card-title-media>
                                <div class="md-media-sm card-media">
                                    <i class="meteo" ng-class="{'icon-sun': stat.meteo === 'sunny', 'icon-cloudy': stat.meteo === 'cloudy', 'icon-rain': stat.meteo === 'rain', 'icon-snow': stat.meteo === 'snow'}"></i>
                                </div>
                            </md-card-title-media>
                        </md-card-title>
                        <md-card-content>
                            <p class="md-subhead">
                            <ul>
                                <li>Extremely Active: {{stat.eactive}}</li>
                                <li>Very Active: {{stat.vactive}}</li>
                                <li>Fairly Active: {{stat.factive}}</li>
                                <li>Inactive: {{stat.iactive}}</li>
                            </ul>
                            </p>
                        </md-card-content>
                    </md-card>
                </div>
            </div>
        </md-content>
    </div>

</div>
